{% extends "base.html" %}
{% block content %}
{% if user_id %}
<div class="tabs-section">
    <div class="tabs">
        <button class="tab active" data-tab="borrow">Borrow Items</button>
        <button class="tab" data-tab="requests">Requested Items</button>
        <button class="tab" data-tab="my-requests">My Requests</button>
        <button class="tab" data-tab="lend">My Lending</button>
    </div>
</div>
<div class="page-container">
    <div id="borrow-tab" class="tab-content active">
        {% include "borrow_tab.html" %}
    </div>
    <div id="requests-tab" class="tab-content">
        {% include "requests_tab.html" %}
    </div>
    <div id="my-requests-tab" class="tab-content">
        {% include "my_requests_tab.html" %}
    </div>
    <div id="lend-tab" class="tab-content">
        {% include "lend_tab.html" %}
    </div>
</div>

{% else %}
<div class="form-container">
    <h2>Login</h2>
    {% if request.query_params.get('error') %}
    <p style="color: red;">{{ request.query_params.get('error') }}</p>
    {% endif %}
    <form action="/login" method="post">
        <input type="text" name="username" placeholder="Username" required>
        <input type="password" name="password" placeholder="Password" required>
        <span style="font-size:0.8em;">
            Note: This will be your permanent password. You won't be able to change it later.
        </span>
        <button type="submit">Login</button>
    </form>
</div>
{% endif %}

<script src="/static/js/tabs.js"></script>
{% endblock %}