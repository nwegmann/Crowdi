<div id="questions">
    <h2>Recent Questions</h2>
    <ul>
        {% for id, text, type, has_responded, options in questions %}
        <li>
            <strong>[{{ type }}]</strong> {{ text }}

            {% if type == "yesno" and not has_responded %}
            <form hx-post="/respond" hx-target="this" hx-swap="outerHTML">
                <input type="hidden" name="question_id" value="{{ id }}">
                <button name="response" value="yes">üëç Yes</button>
                <button name="response" value="no">üëé No</button>
            </form>

            {% elif type == "multiple" and not has_responded %}
            <form hx-post="/respond" hx-target="this" hx-swap="outerHTML">
                <input type="hidden" name="question_id" value="{{ id }}">
                {% for opt_id, opt_text in options %}
                <button name="response" value="{{ opt_text }}">{{ opt_text }}</button>
                {% endfor %}
            </form>

            {% elif has_responded %}
            <p><em>You already responded.</em></p>
            {% endif %}
        </li>
        {% endfor %}
    </ul>
</div>
